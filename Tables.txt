create table people
(
	person_id serial
		constraint person_pk
			primary key,
	person_name varchar(69) not null,
	person_phone_number varchar(69),
	person_email varchar(69)
);

create unique index people_person_email_uindex
	on people (person_email);

create unique index people_person_phone_number_uindex
	on people (person_phone_number);

create table prices
(
	price_id serial
		constraint prices_pk
			primary key,
	price_model_id int,
	price_type_repair_id int
	price_price float
);

create table mechanics
           (
           	mechanic_id serial
           		constraint mechanics_pk
           			primary key,
           	mechanic_person_id int not null,
           	mechanic_experience int,
           	mechanic_about_me varchar(69)
	mechanic_availability boolean default false not null
           );

create table clients
           (
           	client_id serial
		constraint clients_pk
			primary key,
           	client_person_id int not null,
           	client_nif varchar(69)
           );

create table messages
(
	message_id serial
		constraint messages_pk
			primary key,
	message_text varchar(420) not null,
	message_date date not null,
	message_person_id int not null
);

create table type_photo
(
	type_photo_id serial
		constraint type_photo_pk
			primary key,
	type_photo varchar(69)
);

create table mechanic_abilities
(
	mechanic_abilities_id serial
		constraint mechanic_abilities_pk
			primary key,
	mechanic_abilities_mechanic_id int,
	mechanic_abilities_type_repair_id int
);

create table type_repair
(
	type_repair_id serial
		constraint type_repair_pk
			primary key,
	type_repair_name varchar(69)
);

create table type_repair_repair
(
	type_repair_repair_id serial
		constraint type_repair_repair_pk
			primary key,
	type_repair_repair_type_repair_id int,
	type_repair_repair_repair_id int
);

create table repairs
(
	repair_id serial
		constraint repairs_pk
			primary key,
	repair_date date not null,
	repair_price varchar(69),
	repair_mechanic_id int,
	repair_car_id int
);

create table reviews
(
	review_id serial
		constraint reviews_pk
			primary key,
	review_comment varchar(420),
	review_stars int,
	review_client_id int,
	review_repair_id int
);

create table cars
(
	car_id serial
		constraint cars_pk
			primary key,
	car_license_plate varchar(8),
	car_year int,
	car_client_id int,
	car_model_engine_id int,
	car_photo_id int,
	car_transmission varchar(69)
	car_information varchar(420)
);

create table model_engine
(
	model_engine_id serial
		constraint model_engine_pk
			primary key,
	model_engine_engine_id int
	model_engine_model_id int
);
 
create table engines
(
	engine_id serial
		constraint engines_pk
			primary key,
	engine_name varchar(69),
	engine_oil varchar(69),
	engine_displacement varchar(69)
);


create table models
(
	model_id serial
		constraint models_pk
			primary key,
	model_name varchar(69)
	model_brand_id int
);

create table brands
(
	brand_id serial
		constraint brands_pk
			primary key,
	brand_name varchar(69)
);



